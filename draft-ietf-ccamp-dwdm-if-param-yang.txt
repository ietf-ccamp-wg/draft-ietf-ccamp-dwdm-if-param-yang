



Internet Engineering Task Force                       G. Galimberti, Ed.
Internet-Draft                                                         C
Intended status: Standards Track                     D. Hiremagalur, Ed.
Expires: 4 January 2025                                  G. Grammel, Ed.
                                                                 Juniper
                                                        R. Manzotti, Ed.
                                                                   Cisco
                                                          D. Breuer, Ed.
                                                     DEUTSCHE TELEKOM AG
                                                             3 July 2024


A YANG model to manage the optical interface parameters for an external
                      transponder in a WDM network
                 draft-ietf-ccamp-dwdm-if-param-yang-11

Abstract

   This memo defines a Yang model related to the Optical Transceiver
   parameters characterising coherent 100G and above interfaces.  100G
   and above Transceivers support coherent modulation, multiple
   modulation formats, multiple FEC codes including some not yet
   specified (or in phase of specification by) ITU-T G.698.2 or any
   other ITU-T recommendation.  Use cases are described in RFC7698.  Is
   to be noted that the Transceivers can be located on the Transponders
   (optical layer) or on the Router (in general packet layer) in form of
   Pluggable modules.

   The Yang model defined in this memo can be used for Optical
   Parameters monitoring and/or configuration of the endpoints of a
   multi-vendor IaDI optical link.  The use of this model does not
   guarantee interworking of transceivers over a DWDM.  Optical path
   feasibility and interoperability has to be determined by tools and
   algorithms outside the scope of this document.  The purpose of this
   model is to program interface parameters to consistently configure
   the mode of operation of transceivers.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.





Galimberti, et al.       Expires 4 January 2025                 [Page 1]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 4 January 2025.

Copyright Notice

   Copyright (c) 2024 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3
   2.  The Internet-Standard Management Framework  . . . . . . . . .   4
   3.  Conventions . . . . . . . . . . . . . . . . . . . . . . . . .   4
   4.  Overview  . . . . . . . . . . . . . . . . . . . . . . . . . .   4
     4.1.  Optical Parameters Description  . . . . . . . . . . . . .   5
       4.1.1.  Parameters at Ss  . . . . . . . . . . . . . . . . . .   5
       4.1.2.  Interface at point Rs . . . . . . . . . . . . . . . .   6
     4.2.  Use Cases . . . . . . . . . . . . . . . . . . . . . . . .   6
     4.3.  Optical Interface for external transponder in a WDM
           network . . . . . . . . . . . . . . . . . . . . . . . . .   6
   5.  Structure of the Yang Module  . . . . . . . . . . . . . . . .   9
   6.  Yang Module . . . . . . . . . . . . . . . . . . . . . . . . .   9
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .  18
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  18
   9.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  19
   10. Contributors  . . . . . . . . . . . . . . . . . . . . . . . .  19
   11. References  . . . . . . . . . . . . . . . . . . . . . . . . .  21
     11.1.  Normative References . . . . . . . . . . . . . . . . . .  21
     11.2.  Informative References . . . . . . . . . . . . . . . . .  22
   Appendix A.  Change Log . . . . . . . . . . . . . . . . . . . . .  23



Galimberti, et al.       Expires 4 January 2025                 [Page 2]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


   Appendix B.  Open Issues  . . . . . . . . . . . . . . . . . . . .  23
   Appendix C.  Applicability examples . . . . . . . . . . . . . . .  23
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  24

1.  Introduction

   This memo defines a Yang model for managing single channel optical
   interface parameters of DWDM applications, using the approach
   specified in G.698.2.  This model supports parameters to characterize
   coherent transceivers found in current implementations to specify the
   mode of operation.  As application identifiers like those specified
   in ITU-T G.874 [ITU.G874] ITU-T G.698.2 [ITU.G698.2] may not be
   available we use mode templates instead.  A mode template describes
   transceiver characteristics in detail and can be identified by a
   mode-id.

   This draft refers and supports the RFC7698 and is alignet to the
   definition of RFC9093 and its extension FRC9093-bis.  Finally the
   models described in this draft are compliant with the models
   described in draft-ietf-ccamp-optical-impairment-topology-yang and
   draft-ietf-ccamp-flexigrid-tunnel-yang.

   The YANG model describing and extending the optical parameters allows
   different vendors and operators to retrieve, provision and exchange
   information across the multi-vendor IaDI interfaces in an abstract
   manner.

   The concept introduced by this YANG model is the notion of a mode.  A
   mode is a combination of parameters or parameter ranges that is
   supported by a transceiver.  As an example, operating a device in
   QPSK mode may use a different FEC and requires less OSNR to reach the
   FEC limit than the same transceiver operating in QAM16 mode.  Given
   the number of parameters and their possible combinations it is
   important for vendors to be able to qualify a set of combinations
   which is the basis to define a mode.  The YANG model furthermore
   provides means to select one mode as current-mode from that pre-
   defined list of modes supported by the transceiver module.  Once
   selected, current-opt-if-och-mode-params provide the means to
   configure specific parameters at run time and retrieve actual
   parameters from the module.  For example, the frequency is a
   parameter that can be set within min/max boundaries set by the
   current mode.  Laser Temperature however is a ro parameter available
   at run-time that can be checked against the mode boundaries and may
   trigger an event.







Galimberti, et al.       Expires 4 January 2025                 [Page 3]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


2.  The Internet-Standard Management Framework


   // The title and text for this section has been copied from the
   // official boilerplate, and should not be modified unless the
   // boilerplate text at http;//ops.ietf.org/mib-boilerplate.html has
   // changed.  See RFC4818 section 3.1 for a discussion of the
   // boilerplate section.

   For a detailed overview of the documents that describe the current
   Internet-Standard Management Framework, please refer to section 7 of
   RFC 3410 [RFC3410].

   This memo specifies a Yang model for optical interfaces.

3.  Conventions


   // TEMPLATE TODO This boilerplate should be used if the RFC2119 key
   // words are used in the internet draft.  The text in this section
   // has been copied from the official boilerplate, and should not be
   // modified.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119] In
   the description of OIDs the convention: Set (S) Get (G) and Trap (T)
   conventions will describe the action allowed by the parameter.

4.  Overview


   // TEMPLATE TODO The narrative part should include an overview
   // section that describes the scope and field of application of the
   // MIB modules defined by the specification.  See RFC4181 section 3.2
   // for a discussion of the Narrative section.

   Figure 1 shows a set of reference points, for single-channel
   connection between transmitters (Tx) and receivers (Rx).  Here the
   DWDM network elements include an OM (Optical Multiplexer) and an OD
   (Optical Demultiplexer) which are used as a pair with the opposing
   element, one or more optical amplifiers and may also include one or
   more ROADMs.  Is to be noted that the TX L1 and RX L1 may be located
   outside the DWDM network and fitted in the packet layer network
   elements as pluggable modules.






Galimberti, et al.       Expires 4 January 2025                 [Page 4]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


        Ss +-------------------------------------------------+ Rs
         | |              DWDM Network Elements              | |
   +---+ | |  | \                                       / |  | | +---+
   Tx L1---|->|   \    +------+            +------+   /   |--|-->Rx L1
   +---+   |  |    |   |      |  +------+  |      |  |    |  |   +---+
   +---+   |  |    |   |      |  |      |  |      |  |    |  |   +---+
   Tx L2---|->| OM |-->|------|->|ROADM |--|------|->| OD |--|-->Rx L2
   +---+   |  |    |   |      |  |      |  |      |  |    |  |   +---+
   +---+   |  |    |   |      |  +------+  |      |  |    |  |   +---+
   Tx L3---|->|   /    | DWDM |    |  ^    | DWDM |   \   |--|-->Rx L4
   +---+   |  | /      | Link +----|--|----+ Link |     \ |  |   +---+
           +-----------+           |  |           +----------+
                              +----+  +----+
                              |            |
                           Rs v            | Ss
                           +-----+      +-----+
                           |RxL3 |      |TxL4 |
                           +-----+      +-----+

   Ss = reference point at the DWDM network element tributary output
   Rs = reference point at the DWDM network element tributary input
   Lx = Lambda x
   OM = Optical Mux
   OD = Optical Demux
   ROADM = Reconfigurable Optical Add Drop Multiplexer

               Figure 1: External transponder in WDM netwoks

   from Fig. 5.1/G.698.2

4.1.  Optical Parameters Description

   The link between the external transponders through a WDM network
   media channels are managed at the edges, i.e. at the transmitters
   (Tx) and receivers (Rx) attached to the S and R reference points
   respectively.

   Definitions of the optical parameters are provided below to increase
   the readability of the document.

4.1.1.  Parameters at Ss

   output-power:
      The mean launched power at Ss is the average power (in dBm) of a
      pseudo-random data sequence coupled into the DWDM link.






Galimberti, et al.       Expires 4 January 2025                 [Page 5]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


   central frequency:
      This parameter indicates the Central frequency value that Ss and
      Rs will be set to work (in THz)

4.1.2.  Interface at point Rs

   input-power:
      The average received power (in dBm) at point Rs.

   Curr-OSNR:
      Current Optical Signal to Noise Ratio (OSNR) estimated at Rx
      Transceiver port.

   Curr-q-factor:
      "Q" factor estimated at Rx Transceiver port.

4.2.  Use Cases

   The use cases are described in draft-ietf-ccamp-optical-impairment-
   topology-yang (Section 2.5), draft-ietf-teas-actn-poi-applicability
   and draft-poidt-ccamp-actn-poi-pluggable.

4.3.  Optical Interface for external transponder in a WDM network

   The ietf-ext-xponder-wdm-if is an augment to the ietf-interface.  It
   allows the user to set the operating mode of transceivers as well as
   other operational parameters.  The module provides also treshold
   settings and notifications to supervise measured parameters and
   notify the client.

  module: ietf-ext-xponder-wdm-if

    augment /if:interfaces:
      +--rw optIf-templates
         +--rw explicit-transceiver-modes
            +--rw explicit-transceiver-mode*
                    [explicit-transceiver-mode-id]
               +--rw explicit-transceiver-mode-id        string
               +--ro line-coding-bitrate?                identityref
               +--ro bitrate?                            uint16
               +--ro max-diff-group-delay?               decimal-2
               +--ro max-chromatic-dispersion?           decimal-2
               +--ro cd-penalty* [cd-value]
               |  +--ro cd-value         decimal-2
               |  +--ro penalty-value    union
               +--ro max-polarization-mode-dispersion?   decimal-2
               +--ro pmd-penalty* [pmd-value]
               |  +--ro pmd-value        decimal-2



Galimberti, et al.       Expires 4 January 2025                 [Page 6]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


               |  +--ro penalty-value    union
               +--ro max-polarization-dependent-loss
               |       power-loss-or-null
               +--ro pdl-penalty* [pdl-value]
               |  +--ro pdl-value        power-loss
               |  +--ro penalty-value    union
               +--ro available-modulation-type?          identityref
               +--ro min-OSNR?                           snr
               +--ro rx-ref-channel-power?               power-dbm
               +--ro rx-channel-power-penalty* [rx-channel-power-value]
               |  +--ro rx-channel-power-value    power-dbm
               |  +--ro penalty-value             union
               +--ro min-Q-factor?                       decimal-2
               +--ro available-baud-rate?                decimal64
               +--ro roll-off?                           decimal64
               +--ro min-carrier-spacing?                frequency-ghz
               +--ro available-fec-type?                 identityref
               +--ro fec-code-rate?                      decimal64
               +--ro fec-threshold?                      decimal64
               +--ro in-band-osnr?                       snr
               +--ro out-of-band-osnr?                   snr
               +--ro tx-polarization-power-difference?   power-ratio
               +--ro polarization-skew?                  decimal-2
    augment /if:interfaces/if:interface:
      +--rw optIfOChRsSs
         +--rw supported-modes!
         |  +--ro supported-mode* [mode-id]
         |     +--ro mode-id                         string
         |     +--ro (mode)
         |        +--:(G.698.2)
         |        |  +--ro standard-mode?            standard-mode
         |        |  +--ro line-coding-bitrate*      identityref
         |        |  +--ro min-central-frequency?    frequency-thz
         |        |  +--ro max-central-frequency?    frequency-thz
         |        |  +--ro transceiver-tunability?   frequency-ghz
         |        |  +--ro tx-channel-power-min?     power-dbm
         |        |  +--ro tx-channel-power-max?     power-dbm
         |        |  +--ro rx-channel-power-min?     power-dbm
         |        |  +--ro rx-channel-power-max?     power-dbm
         |        |  +--ro rx-total-power-max?       power-dbm
         |        +--:(organizational-mode)
         |        |  +--ro organizational-mode
         |        |     +--ro operational-mode?
         |        |     |       operational-mode
         |        |     +--ro organization-identifier?
         |        |     |       organization-identifier
         |        |     +--ro line-coding-bitrate*       identityref
         |        |     +--ro min-central-frequency?     frequency-thz



Galimberti, et al.       Expires 4 January 2025                 [Page 7]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


         |        |     +--ro max-central-frequency?     frequency-thz
         |        |     +--ro transceiver-tunability?    frequency-ghz
         |        |     +--ro tx-channel-power-min?      power-dbm
         |        |     +--ro tx-channel-power-max?      power-dbm
         |        |     +--ro rx-channel-power-min?      power-dbm
         |        |     +--ro rx-channel-power-max?      power-dbm
         |        |     +--ro rx-total-power-max?        power-dbm
         |        +--:(explicit-mode)
         |           +--ro explicit-mode
         |              +--ro min-central-frequency?
         |              |       frequency-thz
         |              +--ro max-central-frequency?
         |              |       frequency-thz
         |              +--ro transceiver-tunability?
         |              |       frequency-ghz
         |              +--ro tx-channel-power-min?
         |              |       power-dbm
         |              +--ro tx-channel-power-max?
         |              |       power-dbm
         |              +--ro rx-channel-power-min?
         |              |       power-dbm
         |              +--ro rx-channel-power-max?
         |              |       power-dbm
         |              +--ro rx-total-power-max?
         |              |       power-dbm
         |              +--ro compatible-modes
         |              |  +--ro supported-application-codes*
         |              |  |       -> ../../../../supported-mode/mode-id
         |              |  +--ro supported-organizational-modes*
         |              |          -> ../../../../supported-mode/mode-id
         |              +--ro explicit-transceiver-mode-ref?   leafref
         +--rw current-opt-if-och-mode-params
            +--rw configured-mode?            union
            +--rw line-coding-bitrate?        identityref
            +--rw tx-channel-power?           power-dbm-or-null
            +--ro rx-channel-power?           power-dbm-or-null
            +--ro rx-total-power?             power-dbm-or-null
            +--ro min-osnr-margin?            l0-types:snr-or-null
            +--ro q-margin?                   int32
            +--rw central-frequency?          l0-types:frequency-thz
            +--rw number-of-tcas-supported?   uint32
            +--rw tca-list* [tca-type]
            |  +--rw tca-type                opt-if-och-tca-types
            |  +--rw min-threshold?          int32
            |  +--rw max-threshold?          int32
            |  +--rw threshold-hysteresis?   int32
            +--ro cur-osnr?                   l0-types:snr
            +--ro cur-q-factor?               int32



Galimberti, et al.       Expires 4 January 2025                 [Page 8]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


            +--ro uncorrected-words?          uint64
            +--ro pre-fec-ber?                decimal64

    notifications:
      +---n opt-if-och-central-frequency-change
      |  +--ro if-name?
      |  |       -> /if:interfaces/interface/name
      |  +--ro new-opt-if-och-central-frequency
      |     +--ro central-frequency?   l0-types:frequency-thz
      +---n opt-if-och-mode-change
      |  +--ro if-name?   -> /if:interfaces/interface/name
      |  +--ro mode-id?   string
      +---n opt-if-och-min-tca
         +--ro if-name?    -> /if:interfaces/interface/name
         +--ro tca-type?   opt-if-och-tca-types

5.  Structure of the Yang Module

   ietf-ext-xponder-wdm-if is a top level model for the support of this
   feature.

6.  Yang Module

   The ietf-ext-xponder-wdm-if is defined as an extension to ietf
   interfaces.

   <CODE BEGINS> file "ietf-ext-xponder-wdm-if.yang"
   module ietf-ext-xponder-wdm-if {
     yang-version 1.1;
     namespace "urn:ietf:params:xml:ns:yang:ietf-ext-xponder-wdm-if";
     prefix wdm-if;

     import ietf-interfaces {
       prefix if;
     }

     import ietf-layer0-types {
       prefix "l0-types";
     }

     organization
       "IETF CCAMP Working Group";

     contact
       "WG Web:   <http://tools.ietf.org/wg/ccamp/>
       WG List:  <mailto:ccamp@ietf.org>





Galimberti, et al.       Expires 4 January 2025                 [Page 9]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


       Editor:   Dharini Hiremagalur
                 <mailto:dharinih@juniper.net>

       Editor:   Gabriele Galimberti
                 <mailto:  ggalimbe56@gmail.com>

       Editor:   Gert Grammel
                 <mailto:ggrammel@juniper.net>

       Editor:   Roberto Manzotti
                 <mailto:rmanzott@cisco.com>";

     description
       "This module contains a collection of YANG definitions for
       configuring Optical interfaces.

       Copyright (c) 2016 IETF Trust and the persons identified
       as authors of the code.  All rights reserved.

       Redistribution and use in source and binary forms, with or
       without modification, is permitted pursuant to, and
       subject to the license terms contained in, the Revised
       BSD License set forth in Section 4.c of the IETF Trust's
       Legal Provisions Relating to IETF Documents
       (http://trustee.ietf.org/license-info).

       This version of this YANG module is part of RFC XXXX
       (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
       for full legal notices.";

     revision "2024-07-03" {
       description
         "Revision 1.11";
       reference
         "This version of this YANG module is part of RFC XXXX
        (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
        for full legal notices.";
     }
     revision "2023-10-23" {
       description
         "Revision 1.10";
       reference
         "";
     }

     revision "2023-03-13" {
       description
         "Revision 1.9";



Galimberti, et al.       Expires 4 January 2025                [Page 10]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


       reference
         "";
     }

     revision "2022-10-24" {
       description
         "Revision 1.8";
       reference
         "";
     }

     revision "2022-01-10" {
       description
         "Revision 1.7";
       reference
         "";
     }

     revision "2021-06-28" {
       description
         "Revision 1.6";
       reference
         "";
     }

     revision "2020-03-09" {
       description
         "Revision 1.5";
       reference
         "";
     }

     revision "2019-11-04" {
       description
         "Revision 1.4";
       reference
         "";
     }

     revision "2019-07-08" {
       description
         "Revision 1.3";
       reference
         "";
     }

     revision "2018-10-22" {
       description



Galimberti, et al.       Expires 4 January 2025                [Page 11]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


         "Revision 1.2";
       reference
         "";
     }

     revision "2018-03-06" {
       description
         "Revision 1.1";
       reference
         "";
     }

     revision "2017-03-06" {
       description
         "Revision 1.0";
       reference
         "";
     }

     revision "2016-03-17" {
       description
         "Initial revision.";
       reference
         "";
     }
   <CODE ENDS>

   <CODE BEGINS>
     typedef opt-if-och-tca-types {
       type enumeration {
         enum laser-linewdt {
           description "The laser linewidth";
         }
         enum tx-power-tca {
           description "The tx power TCA";
         }
         enum rx-power-tca {
           description "The tx power TCA";
         }
         enum pol-power-diff-tca {
           description "The power difference between polarization
           TCA";
         }
         enum pol-skew-diff-tca {
           description "The skew between the two polarization TCA";
         }
         enum cd-tca {
           description "The chromatic dispersion TCA";



Galimberti, et al.       Expires 4 January 2025                [Page 12]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


         }
         enum frequency-offset-tca {
           description "Frequency offset TCA";
         }
         enum osnr-tca {
           description "OSNR TCA";
         }
         enum laser-temperature-tca {
           description "Laser temperature TCA";
         }
         enum pre-fec-ber-tca {
           description "Pre Fec BER TCA";
         }
         enum uncorrected-words-tca {
           description "Uncorrected words TCA";
         }
         enum q-factor-tca{
           description "Q Factor TCA";
         }
       }
       description "The different types of TCA's";
     }

     grouping opt-if-och-power {
       description "Interface optical Power";

       leaf channel-output-power {
         type l0-types:power-dbm-or-null;
         description "The output power for this interface in dBm.
         The setting of the output power is optional";
       }

       leaf channel-input-power {
         type l0-types:power-dbm-or-null;
         config false;
         description "The current channel input power of this
         interface";
       }

       leaf total-input-power {
         type l0-types:power-dbm-or-null;
         config false;
         description "The total input power of this interface";
       }
     }

     grouping opt-if-och-tca-thresholds {
       description "Thresholds for TCA's";



Galimberti, et al.       Expires 4 January 2025                [Page 13]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


       leaf tca-type {
         type opt-if-och-tca-types;
         description "type of the TCA eg TX Power";
       }
       leaf min-threshold {
         type int32;
         description "A TCA is generated if the variable is less than
         this value";
       }
       leaf max-threshold {
         type int32;
         description "A TCA is generated if the variable is more than
         this value";
       }
       leaf threshold-hysteresis {
         type int32;
         description "The TCA raise/clear hysteresisis around the
         threshold value to avoi alert flikering";
       }
     }

     grouping opt-if-och-central-frequency {
       description "Interface Central Frequency";
       leaf central-frequency {
         type l0-types:frequency-thz;
         description "This parameter indicates the frequency of this
         interface ";
       }
     }

     grouping opt-if-och-tca-list {
       description "List of TCA's";
       leaf number-of-tcas-supported {
         type uint32;
         description "Number of TCAs supported by this interface";
       }
       list tca-list {
         key "tca-type";
         description "List of the TCAs";
         uses opt-if-och-tca-thresholds;
       }
     }

     grouping opt-if-och-mode-params {
       description "OCh mode parameters";

       leaf min-osnr-margin {
         type l0-types:snr-or-null;



Galimberti, et al.       Expires 4 January 2025                [Page 14]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


         units "dB";
         config false;
         description "OSNR margin to FEC threshold";
       }
       leaf q-margin {
         type int32;
         units "dB";
         config false;
         description "Q-Factor margin to FEC threshold";
       }
       uses opt-if-och-central-frequency;
   //    uses opt-if-och-fec-tca-thresholds;
       uses opt-if-och-tca-list;
     }

     grouping opt-if-och-statistics {
       description "OCh statistics";
       leaf cur-osnr {
         type l0-types:snr;
         units "dB";
         config false;
         description "OSNR margin to FEC threshold";
       }
       leaf cur-q-factor {
         type int32;
         units "dB";
         config false;
         description "Q-Factor of the interface";
       }
       leaf uncorrected-words {
         type uint64;
         config false;
         description "Post-FEC errored words";
       }
       leaf pre-fec-ber {
         type decimal64 {
           fraction-digits 18;
         }
         config false;
         description "Pre-FEC errored words";
       }
     }

     notification opt-if-och-central-frequency-change {
       description "A change of Central Frequency has been detected";

       leaf "if-name" {
         type leafref { path "/if:interfaces/if:interface/if:name"; }



Galimberti, et al.       Expires 4 January 2025                [Page 15]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


         description "Interface name";
       }
       container new-opt-if-och-central-frequency {
         description "The new Central Frequency of the interface";
         uses opt-if-och-central-frequency;
       }
     }

     notification opt-if-och-mode-change {
       description "A change of Mode Template has been detected";

       leaf "if-name" {
         type leafref { path "/if:interfaces/if:interface/if:name"; }
         description "Interface name";
       }
       leaf mode-id {
         type string { length "1..255"; }
         description "ID for the OCh mode template";
       }
     }

     notification opt-if-och-min-tca {
       description "A min output TCA notification";

       leaf "if-name" {
         type leafref { path "/if:interfaces/if:interface/if:name"; }
         description "Interface name";
       }
       leaf tca-type {
         type opt-if-och-tca-types;
         description "Type of TCA for eg min tx power TCA";
       }
     }

     augment "/if:interfaces" {
       description
         "Template definition for Optical Interface explicit-modes";
       container "optIf-templates" {
         description "Optical Interface explicit-mode templates";
         container explicit-transceiver-modes {
           description
             "The top level container for the list of the
             transceivers' explicit modes.";
           list explicit-transceiver-mode {
             key explicit-transceiver-mode-id;
             description
               "The list of the transceivers' explicit modes.";
             leaf explicit-transceiver-mode-id {



Galimberti, et al.       Expires 4 January 2025                [Page 16]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


               type string;
               description
                 "The identifier of the transceivers' explicit mode.";
             }
             uses l0-types:explicit-mode;
           } // list explicit-transceiver-mode
         } // container explicit-transceiver-modes
       }
     }

     augment "/if:interfaces/if:interface" {
       description "Parameters for an optical interface";

       container optIfOChRsSs {
         description "RsSs path configuration for an interface";

         uses l0-types:transceiver-capabilities {
           augment "supported-modes/supported-mode/mode/"
           + "explicit-mode/explicit-mode" {
             description
               "Augment the explicit-mode container with the
               proper leafref.";
             leaf explicit-transceiver-mode-ref {
               type leafref {
                 path "../../../../../../wdm-if:optIf-templates"
                      + "/wdm-if:explicit-transceiver-modes"
                      + "/wdm-if:explicit-transceiver-mode"
                      + "/wdm-if:explicit-transceiver-mode-id";
               }
               description
                 "The refernce to the explicit transceiver
                 mode template.";
             }
           }
         }

         container current-opt-if-och-mode-params {
           leaf configured-mode {
             type union {
               type empty;
               type leafref {
                 path "../../supported-modes/supported-mode/mode-id";
               }
             }
             description
               "Reference to the configured mode for transceiver
               compatibility approach.




Galimberti, et al.       Expires 4 January 2025                [Page 17]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


               The empty value is used to report that no mode has
               been configured and there is no default mode.

               When not present, the configured-mode is not reported
               by the server.";
           }
           uses l0-types:common-transceiver-param;
           description "Current parameters of this interface";
           uses opt-if-och-mode-params;
           uses opt-if-och-statistics;
         }
       }
     }
   }
   <CODE ENDS>

7.  Security Considerations

   The YANG module defined in this memo is designed to be accessed via
   the NETCONF protocol [RFC6241]. he lowest NETCONF layer is the secure
   transport layer and the mandatory-to-implement secure transport is
   SSH [RFC6242].  The NETCONF access control model [RFC8341] provides
   the means to restrict access for particular NETCONF users to a pre-
   configured subset of all available NETCONF protocol operation and
   content.


   // TEMPLATE TODO you should explicitly list by name any readable
   // objects that are sensitive or vulnerable and the associated
   // security risks should be spelled out (for instance, if they might
   // reveal customer information or violate personal privacy laws such
   // as those of the European Union if exposed to unathorized parties).


   // TEMPLATE TODO The following three boilerplate paragraphs should
   // not be changed without very good reason.  Changes will almost
   // certainly require justification during IESG review.

8.  IANA Considerations


   // TEMPLATE TODO In order to comply with IESG policy as set forth in
   // http://www.ietf.org/ID-Checklist.html, every Internet-Draft that
   // is submitted to the IESG for publication MUST contain an IANA
   // Considerations section.  The requirements for this section vary
   // depending what actions are required of the IANA.  See "Guidelines
   // for Writing an IANA Considerations Section in RFCs" [RFC8126]. and
   // see [RFC4181] section 3.5 for more information on writing an IANA



Galimberti, et al.       Expires 4 January 2025                [Page 18]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


   // clause for a MIB module internet draft.

   This document registers a URI in the IETF XML registry [RFC3688].
   Following the format in [RFC3688], the following registration is
   requested to be made:

   URI: urn:ietf:params:xml:ns:yang:ietf-interfaces:ietf-ext-xponder-
   wdm-if

   Registrant Contact: The IESG.

   XML: N/A, the requested URI is an XML namespace.

   This document registers a YANG module in the YANG Module Names
   registry [RFC6020].

   This document registers a YANG module in the YANG Module Names
   registry [RFC6020].

   prefix: ietf-ext-xponder-wdm-if reference: RFC XXXX

9.  Acknowledgements


10.  Contributors



               Ruediger Kunze
                 Deutsche Telekom
                 Winterfeldtstr. 21-27
                 10781 Berlin
                 Germany
                 +491702275321
                 RKunze@telekom.de

               Dean Bogdanovic
                 Westford
                 U.S.A.
                 email ivandean@gmail.com

               Bernd Zeuner
                 Deutsche Telekom
                 Darmstadt
                 Germany
                 email B.Zeuner@telekom.de

               Massimiliano Salsi



Galimberti, et al.       Expires 4 January 2025                [Page 19]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


                 Juniper Networks
                 1133 Innovation Way
                 Sunnyvale, CA, 94089
                 U.S.A.
                 +1 408936847
                 email msalsi@google.com

               Arnold Mattheus
                 Deutsche Telekom
                 Darmstadt
                 Germany
                 email a.mattheus@telekom.de

               Manuel Paul
                 Deutsche Telekom
                 Berlin
                 Germany
                 email Manuel.Paul@telekom.de

               Walid Wakim
                 Infinera
                 ILLINOIS
                 UNITED STATES
                 email wakims@mac.com

               Hing-Kam Lam
                 Fhusa
                 USA
                 kam.lam@fhusainc.com

               Sergio Belotti
                 Nokia
                 Via Energy Park
                 20871 Vimercate (MB)
                 Italy
                 Sergio.belotti@nokia.com


               Andreas Burk
                 Architekt Network Automation CTO Board
                 1und1
                 Versatel Deutschland GmbH Solmsstr. 73
                 D-60486 Frankfurt am Main
                 +49 69 21789246
                 Andreas.Burk@1und1.net






Galimberti, et al.       Expires 4 January 2025                [Page 20]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


11.  References

11.1.  Normative References

   [RFC2863]  McCloghrie, K. and F. Kastenholz, "The Interfaces Group
              MIB", RFC 2863, DOI 10.17487/RFC2863, June 2000,
              <https://www.rfc-editor.org/info/rfc2863>.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC2578]  McCloghrie, K., Ed., Perkins, D., Ed., and J.
              Schoenwaelder, Ed., "Structure of Management Information
              Version 2 (SMIv2)", STD 58, RFC 2578,
              DOI 10.17487/RFC2578, April 1999,
              <https://www.rfc-editor.org/info/rfc2578>.

   [RFC2579]  McCloghrie, K., Ed., Perkins, D., Ed., and J.
              Schoenwaelder, Ed., "Textual Conventions for SMIv2",
              STD 58, RFC 2579, DOI 10.17487/RFC2579, April 1999,
              <https://www.rfc-editor.org/info/rfc2579>.

   [RFC2580]  McCloghrie, K., Ed., Perkins, D., Ed., and J.
              Schoenwaelder, Ed., "Conformance Statements for SMIv2",
              STD 58, RFC 2580, DOI 10.17487/RFC2580, April 1999,
              <https://www.rfc-editor.org/info/rfc2580>.

   [RFC3591]  Lam, H., Stewart, M., and A. Huynh, "Definitions of
              Managed Objects for the Optical Interface Type", RFC 3591,
              DOI 10.17487/RFC3591, September 2003,
              <https://www.rfc-editor.org/info/rfc3591>.

   [RFC6205]  Otani, T., Ed. and D. Li, Ed., "Generalized Labels for
              Lambda-Switch-Capable (LSC) Label Switching Routers",
              RFC 6205, DOI 10.17487/RFC6205, March 2011,
              <https://www.rfc-editor.org/info/rfc6205>.

   [ITU.G698.2]
              International Telecommunications Union, "Amplified
              multichannel dense wavelength division multiplexing
              applications with single channel optical interfaces",
              ITU-T Recommendation G.698.2, November 2009.

   [ITU.G709] International Telecommunications Union, "Interface for the
              Optical Transport Network (OTN)", ITU-T Recommendation
              G.709, June 2016.



Galimberti, et al.       Expires 4 January 2025                [Page 21]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


   [ITU.G872] International Telecommunications Union, "Architecture of
              optical transport networks", ITU-T Recommendation G.872,
              January 2017.

   [ITU.G798] International Telecommunications Union, "Characteristics
              of optical transport network hierarchy equipment
              functional blocks", ITU-T Recommendation G.798, December
              2017.

   [ITU.G874] International Telecommunications Union, "Management
              aspects of optical transport network elements",
              ITU-T Recommendation G.874, October 2020.

   [ITU.G874.1]
              International Telecommunications Union, "Optical transport
              network (OTN): Protocol-neutral management information
              model for the network element view", ITU-T Recommendation
              G.874.1, November 2016.

   [ITU.G959.1]
              International Telecommunications Union, "Optical transport
              network physical layer interfaces", ITU-T Recommendation
              G.959.1, November 2009.

   [ITU.G826] International Telecommunications Union, "End-to-end error
              performance parameters and objectives for international,
              constant bit-rate digital paths and connections",
              ITU-T Recommendation G.826, December 2002.

   [ITU.G8201]
              International Telecommunications Union, "Error performance
              parameters and objectives for multi-operator international
              paths within the Optical Transport Network (OTN)",
              ITU-T Recommendation G.8201, April 2011.

   [ITU.G694.1]
              International Telecommunications Union, "Spectral grids
              for WDM applications: DWDM frequency grid",
              ITU-T Recommendation G.694.1, February 2012.

   [ITU.G7710]
              International Telecommunications Union, "Common equipment
              management function requirements", ITU-T Recommendation
              G.7710, August 2017.

11.2.  Informative References





Galimberti, et al.       Expires 4 January 2025                [Page 22]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


   [RFC3410]  Case, J., Mundy, R., Partain, D., and B. Stewart,
              "Introduction and Applicability Statements for Internet-
              Standard Management Framework", RFC 3410,
              DOI 10.17487/RFC3410, December 2002,
              <https://www.rfc-editor.org/info/rfc3410>.

   [RFC7991]  Hoffman, P., "The "xml2rfc" Version 3 Vocabulary",
              RFC 7991, DOI 10.17487/RFC7991, December 2016,
              <https://www.rfc-editor.org/info/rfc7991>.

   [RFC4181]  Heard, C., Ed., "Guidelines for Authors and Reviewers of
              MIB Documents", BCP 111, RFC 4181, DOI 10.17487/RFC4181,
              September 2005, <https://www.rfc-editor.org/info/rfc4181>.

   [RFC4054]  Strand, J., Ed. and A. Chiu, Ed., "Impairments and Other
              Constraints on Optical Layer Routing", RFC 4054,
              DOI 10.17487/RFC4054, May 2005,
              <https://www.rfc-editor.org/info/rfc4054>.

Appendix A.  Change Log

   This optional section should be removed before the internet draft is
   submitted to the IESG for publication as an RFC.

   Note to RFC Editor: please remove this appendix before publication as
   an RFC.

Appendix B.  Open Issues


   // TEMPLATE TODO This list of issues listed in this optional section
   // should be cleared and removed, and this optional section should be
   // removed before the internet draft is submitted to the IESG for
   // publication as an RFC.

   Note to RFC Editor: please remove this appendix before publication as
   an RFC.

Appendix C.  Applicability examples

   As an examample here below is the way and OpenROADM compliant
   equipment could be managed using the Yang models described in thei
   draft.

   In OpenROADM MSA there is a limited number of DWDM interfaces
   supported.  Basically only the 100G Staircase FEC and 400G oFEC are
   supported and these two kind of interfaces can be easily summarized
   with the "mode-id" and the "application-identifier" strings.



Galimberti, et al.       Expires 4 January 2025                [Page 23]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


   the models below are enough to identify the interface and few working
   parameters:

   module: ietf-ext-xponder-wdm-if
    augment /if:interfaces/if:interface:
       +--rw optIfOChRsSs
          +--rw if-current-mode
          |  +--ro mode-id?                         string
          |  +--ro application-identifier?          string
          .
          .
          .
          +--rw current-opt-if-och-mode-params
             +--rw mode-id?                          string
             +--rw central-frequency?                frequency-thz
             +--rw channel-output-power?             dbm
             +--ro channel-input-power?              dbm
             .
             .
             .
             +--ro cur-osnr?                  layer0-types:snr
             +--ro cur-q-factor?                     int32
             +--ro uncorrected-words?                uint64
             +--ro pre-fec-ber?                      decimal64



Authors' Addresses

   Gabriele Galimberti (editor)
   C
   Via Melgacciata 13 c
   20813 - Bovisio Masciago
   Italy
   Phone: +393357481947
   Email: ggalimbe56@gmail.com


   Dharini Hiremagalur (editor)
   Juniper
   1133 Innovation Way
   Sunnyvale - 94089 California,
   United States of America
   Email: dharinih@juniper.net







Galimberti, et al.       Expires 4 January 2025                [Page 24]

Internet-Draft   draft-ietf-ccamp-dwdm-if-param-yang-11        July 2024


   Gert Grammel (editor)
   Juniper
   Oskar-Schlemmer Str. 15
   80807 Muenchen
   Germany
   Phone: +49 1725186386
   Email: ggrammel@juniper.net


   Roberto Manzotti (editor)
   Cisco
   Santa Maria Molgora 48 C
   20871 Vimercate
   Italy
   Phone: +390392091280
   Email: manzoro@gmail.com


   Dirk Breuer (editor)
   DEUTSCHE TELEKOM AG
   Winterfeldtstr 21
   10781 Berlin
   Germany
   Phone: +4930835358828
   Email: d.breuer@telekom.de


























Galimberti, et al.       Expires 4 January 2025                [Page 25]
